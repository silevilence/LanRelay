# 文件传输 UI 与进度控制

优先级：P1

## 任务细节

1. **文件气泡组件**：
    - 在聊天窗口中展示文件消息：文件名、大小、图标。
    - 状态按钮：发送中(进度%)、接收中(进度%)、等待接收(接收/拒绝)、已完成。

2. **进度状态绑定**：
    - `TransferState` 容器需包含当前传输任务的进度字典。
    - UI 通过事件订阅实时刷新进度条 (Progress Bar)。

3. **弹窗确认**：
    - 收到文件请求时，使用 MAUI 原生 `DisplayAlert` 或 Blazor 模态框请求用户确认。

4. **TDD 验证**：
    - 测试 ViewModel/State 逻辑：更新 `Progress` 属性，验证 `OnChange` 事件是否触发。